<!DOCTYPE html>
<html>

<head>
  <title>Use Auto Feeder to scan</title>
  <script src="../dist/dynamsoft.webtwain.min.js"></script>
</head>

<body style="padding: 30px;">
  <lable id="ADF" style="font-size: x-large;" ><input type="checkbox" checked="checked">Auto Feeder</lable>
  <input type="button" style="font-size: x-large;" id="acquireButton" value="Acquire" onclick="AcquireImage();" />
  <input type="button" style="font-size: x-large;display:none;" id="mobileFile" value="Acquire" onclick="LoadImage()" />
  <!-- dwtcontrolContainer is the default div id for Dynamic Web TWAIN control.
    If you need to rename the id, you should also change the id in the dynamsoft.webtwain.config.js accordingly. -->
  <br />
  <br />
  <div id="dwtcontrolContainer"></div>

  <script type="text/javascript">
    
    /** v17.1 LICENSE ALERT - README
     * The library requires a license to work, the APIs organizationID and handshakeCode specify how to acquire a license.
     * If nothing is specified, a 7-day (public) trial license will be used by default which is the case in this sample.
     * Note that network connection is required for this license to work.
     */

    /* When using your own license, please uncomment the following lines and fill in your own information. */
    /* For more information, please refer to https://www.dynamsoft.com/license-tracking/docs/about/licensefaq.html?ver=latest#how-to-use-a-trackable-license. */

    // Dynamsoft.DWT.organizationID = "YOUR-ORGANIZATION-ID";
    // Dynamsoft.DWT.handshakeCode = "A-SPECIFIC-HANDSHAKECODE";
    // Dynamsoft.DWT.sessionPassword = "PASSWORD-TO-PROTECT-YOUR-LICENSE"; // Important field to protect your license.
    // Dynamsoft.DWT.licenseServer = ["YOUR-OWN-MAIN-LTS", "YOUR-OWN-STANDBY-LTS"]; // Ignore this line if you are using Dynamsoft-hosting LTS

    /* The API "productKeys" is an alternative way to license the library, the major difference is that it does not require a network. Contact support@dynamsoft.com for more information. */

    // Dynamsoft.DWT.productKeys = "YOUR-PRODUCT-KEY";

    /** LICENSE ALERT - THE END */
    
    Dynamsoft.DWT.ResourcesPath = "../dist";
    Dynamsoft.DWT.RegisterEvent('OnWebTwainReady', Dynamsoft_OnReady); 
    window.onload = function () {
      if (Dynamsoft.Lib.env.bMobile) {
        document.getElementById('ADF').style.display = "none";
        document.getElementById('acquireButton').style.display = "none";
        document.getElementById('mobileFile').style.display = "";
      }
      Dynamsoft.DWT.Containers = [{ContainerId:'dwtcontrolContainer', Width:600, Height:800}];
      Dynamsoft.DWT.Load();
    };
    var DWObject;

    function Dynamsoft_OnReady() {
      DWObject = Dynamsoft.DWT.GetWebTwain('dwtcontrolContainer');
    }

    function AcquireImage() {
      if (DWObject) {
        DWObject.SelectSource(function () {
          DWObject.OpenSource();
          DWObject.AcquireImage(
            {
              IfShowUI: false,
              IfFeederEnabled: document.getElementById("ADF").checked,
              PixelType: Dynamsoft.DWT.EnumDWT_PixelType.TWPT_RGB,
              Resolution: 200,
              IfDisableSourceAfterAcquire: true
            },
            function () {
              console.log("Successful!");
            },
            function (settings, errCode, errString) {
              alert(errString)
            }
          );
        }, function () {
          alert('SelectSource failed!');
        });
      }
    }

    function LoadImage() {
      DWObject.LoadImageEx('', 5);
    }
  </script>
</body>

</html>
